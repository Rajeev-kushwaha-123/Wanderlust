<nav class="navbar navbar-expand-lg bg-white border-bottom shadow-sm sticky-top py-2">
  <div class="container-fluid px-lg-4">
    <!-- Left Logo -->
    <a class="navbar-brand d-flex align-items-center gap-2 fw-bold text-danger" href="/">
      <i class="fa-solid fa-compass"></i> Wanderlust
    </a>

    <!-- Center Search Bar (only shows on md and up) -->
    <form class="d-none d-md-flex mx-auto border rounded-pill shadow-sm px-3 py-2 w-50 align-items-center bg-white" 
          action="/listings" method="GET" style="max-width: 600px;">
      
      <i class="fa-solid fa-magnifying-glass text-muted me-2"></i>

      <input type="text" class="form-control border-0 shadow-none px-2" 
            placeholder="Search destinations..." name="q" aria-label="Search">

      <button class="btn btn-danger rounded-pill px-3" type="submit">
        Search
      </button>
    </form>
    
    <!-- Right User Menu -->
    <div class="d-flex align-items-center gap-3">
      <a class="nav-link d-none d-md-block" href="/listings">Explore</a>
      <a class="nav-link d-none d-md-block" href="/listings/new">Create</a>

      <!-- Profile Dropdown -->
      <div class="dropdown">
        <button class="btn border rounded-pill px-3 py-1 d-flex align-items-center gap-2" data-bs-toggle="dropdown">
          <i class="fa-solid fa-bars"></i>
          <i class="fa-solid fa-user-circle fa-lg"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-end">
          <% if (!currentUser) { %>
            <li><a class="dropdown-item" href="/login">Login</a></li>
            <li><a class="dropdown-item" href="/register">Register</a></li>
          <% } else { %>
            <li><span class="dropdown-item-text fw-semibold">Hi, <%= currentUser.username %></span></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/listings/new">Add Listing</a></li>
            <li><a class="dropdown-item text-danger" href="/logout">Logout</a></li>
          <% } %>
        </ul>
      </div>
    </div>
  </div>
</nav>
